<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with LaTeX2HTML 99.1 release (March 30, 1999)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>IIOP over SSL</TITLE>
<META NAME="description" CONTENT="IIOP over SSL">
<META NAME="keywords" CONTENT="ProgrammingGuide">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<META NAME="Generator" CONTENT="LaTeX2HTML v99.1 release">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="ProgrammingGuide.css">

<LINK REL="next" HREF="node11.html">
<LINK REL="previous" HREF="node9.html">
<LINK REL="up" HREF="ProgrammingGuide.html">
<LINK REL="next" HREF="node11.html">
</HEAD>

<BODY >
<!--Navigation Panel-->
<A NAME="tex2html297"
 HREF="node11.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="/usr/lib/latex2html/icons.gif/next_motif.gif"></A> 
<A NAME="tex2html293"
 HREF="ProgrammingGuide.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="/usr/lib/latex2html/icons.gif/up_motif.gif"></A> 
<A NAME="tex2html287"
 HREF="node9.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="/usr/lib/latex2html/icons.gif/previous_motif.gif"></A> 
<A NAME="tex2html295"
 HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents"
 SRC="/usr/lib/latex2html/icons.gif/contents_motif.gif"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html298"
 HREF="node11.html">Portable Interceptors</A>
<B> Up:</B> <A NAME="tex2html294"
 HREF="ProgrammingGuide.html">JacORB 1.3 Programming Guide</A>
<B> Previous:</B> <A NAME="tex2html288"
 HREF="node9.html">Applets   The</A>
 &nbsp <B>  <A NAME="tex2html296"
 HREF="node1.html">Contents</A></B> 
<BR>
<BR>
<!--End of Navigation Panel-->
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsections</STRONG></A>

<UL>
<LI><A NAME="tex2html299"
 HREF="node10.html#SECTION001010000000000000000">Re-Building JacORB's security libraries</A>
<LI><A NAME="tex2html300"
 HREF="node10.html#SECTION001020000000000000000">Setting up a key store</A>
<UL>
<LI><A NAME="tex2html301"
 HREF="node10.html#SECTION001021000000000000000">Step-By-Step certificate creation</A>
</UL>
<LI><A NAME="tex2html302"
 HREF="node10.html#SECTION001030000000000000000">Configuring SSL properties</A>
</UL>
<!--End of Table of Child-Links-->
<HR>

<H1><A NAME="SECTION001000000000000000000">
IIOP over SSL</A>
</H1><I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
<A NAME="SSL"></A></FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
Using  SSL to authenticate  clients and  to protect  the communication
between client and target requires no changes in your source code. The
only  notable  effect  is  that  SSL/TLS type  sockets  are  used  for
transport  connections  instead of  plain  TCP  sockets  -- and  that
connection setup takes a bit longer.
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
The only  prerequisites are that you rebuild  JacORB with cryptography
support. You  also need  to set up  a key  store file that  holds your
cryptographic   keys,  and  to   configure  SSL   by  setting   a  few
properties. All of this is described in this chapter.
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<H1><A NAME="SECTION001010000000000000000">
Re-Building JacORB's security libraries</A>
</H1><I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
In the  standard distribution, the  JacORB security libraries  are not
enabled.   To do  so, you  simply need  to recompile  JacORB  with the
required SSL and JCE libraries  in your CLASSPATH.  If these libraries
are not found, JacORB will be rebuilt without SSL support.
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
To  successfully rebuild  JacORB with  SSL support,  the  following is
required:
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<UL>
<LI>JDK 1.2 or later,

<P>
 </LI>
<LI>IAIK-JCE   2.591,   the  security   provider   classes
downloadable from 
<BR> <TT> http://jcewww.iaik.tu-graz.ac.at/</TT>,

<P>
 </LI>
<LI>iSaSiLk 3.0 or later,  the SSL implementation from the same
source.<A NAME="tex2html5"
 HREF="footnode.html#foot390"><SUP><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]"
 SRC="/usr/lib/latex2html/icons.gif/foot_motif.gif"></SUP></A></LI>
</UL><I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
Make  sure that  the two  libraries are  in your  CLASSPATH. Then build
JacORB anew by typing <TT> ant</TT> in your JacORB installation directory.
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<H1><A NAME="SECTION001020000000000000000">
Setting up a key store</A>
</H1><I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
SSL  relies   on  public  key  certificates  in   the  standard  X.509
format. These  certificates are presented in  the authentication phase
of the  SSL handshake and used  to compute and  exchange session keys.
This section explains how to create and store these certificates.
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
The Java 2  security API provides interfaces that  access a persistent
data structure  called <EM> KeyStore</EM>. A key  store is simply  a file
that contains  public key  certificates and the  corresponding private
keys. It also  contains other certificates that can  be used to verify
public key  certificates.  All  cryptographic data is  protected using
passwords and accessed using names called <EM> aliases</EM>.
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
JacORB provides a  GUI tool to create and  manipulate key store files,
the  KeyStoreManager. It  can generate  key pairs,  sign  public keys,
import  or   export  certificates,  and   define  trusted  certificate
authorities. To start the KeyStoreManager, simply type <TT> ks</TT> on the
command  line. The GUI  lets you  select and  open existing  key store
files, or create new ones.
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
Starting with an  empty key store, you first need to  create a new key
store and then  a key pair and certificate. Select  <TT> New</TT> from the
<TT> File</TT>  menu to create  a key store,  and then <TT> New</TT>  from the
<TT> Keys</TT> menu.   You will then be asked to provide  a new alias name
for your  new key entry. You also  need to choose a  password. You can
leave  the  algorithm  and  key  length fields  in  the  combobox  menu
unchanged.
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P><P>
<BR>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<DIV ALIGN="CENTER"><I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1">
file=Generate.eps, width=7cm</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I></DIV>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
You  now  have a  public  key certificate  that  you  can present  for
authentication, claiming  identity with the  alias name that  has been
embedded  in the  certificate.   Since anybody  could  present such  a
certificate,  receivers  require  that  the certificate  be  digitally
signed by someone  they trust, a <EM> Certificate  Authority</EM> (CA). By
signing  the certificate,  a CA  supports  the identity  claim of  the
certificate  subject. Whose  signature is  accepted as  trustworthy is
just a matter  of configuration, but normally proper  CAs are expected
to only sign certificates that  they have carefully scrutinized -- or
even created themselves. 
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P><P>
<BR>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<DIV ALIGN="CENTER"><I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1">
file=Keystore.eps, width=11cm</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I></DIV>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
For   convenience  you   can  act   as  a   CA  yourself,   using  the
KeyStoreManager GUI  to import certificates  and then sign  and export
them  again.   The  originating  key  store can  then  re-import  the
certificate that now bears the  digital signature of someone acting as
a CA. The key store has a  standard key chain format that must be used
to store public key certificates. The  first entry in the key chain is
your own public  key certificate as generated by the  key store. It is
automatically signed with its own  private key. Second in the chain is
the public key certificate that is signed by the CA. The last entry in
a key  chain must hold the  CA's public key  certificate, signed using
its private key. Trust in the CA key is ``axiomatic''. 
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P><P>
<BR>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<DIV ALIGN="CENTER"><I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1">
file=KSMenu.eps, width=11cm</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I></DIV>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
You can  check the validity of a  key chain by selecting  an alias and
then choosing <TT> Verify Chain</TT>  from the <TT> Keys</TT> menu. Unless the
key  chain  has  the proper  format  <EM> and</EM>  the CA's  public  key
certificate is also declared  as trusted using the <TT> Trustees-add</TT>
menu, the  verification will fail.  Only of  the verification succeeds
will you be able to use a public key certificate in the SSL connection
setup. More documentation on key stores  can be found in the Java tool
documentation for the <TT> keytool</TT>  command. If you care for ``real''
security,  be advised  that setting  up  and managing  (or finding)  a
properly administered CA is essential for the overall security of your
system.
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
Finally,  note that  key  stores  are normally  used  only for  client
authentication in JacORB.   Servers may, but need not,  have their own
keys and  passwords because server authentication is  optional and not
mandatory like  client authentication. Technically,  this is achieved
by  exchanging the  client  and server  roles  at SSL  setup. This  is
entirely  transparent to  applications, of  course, but  might prevent
interoperation  with other ORBs  over SSL  if their  SSL setup  is not
prepared to handle this role change.
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<H2><A NAME="SECTION001021000000000000000">
Step-By-Step certificate creation</A>
</H2><I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1">
In  order to  generate  a  simple public  key  infrastructure you  can
perform the following steps:
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<OL>
<LI>Create new keystores (File/new) and keypairs (Keys/new) for the CA
and for the user.</LI>
<LI>Open the  user keystore (File/open),  select the  key  entry and
export the self-signed certificate (Certificates/Export).</LI>
<LI>Open  the  CA  keystore  and  add the  user  certificate  as  a
Trustee (Trustees/add...).</LI>
<LI>Select the  trusted user certificate and create  a signed public
key certificate (Certificates/Create). Leave the role name field empty,
enter the  CAs private  key password and  save the new  certificate by
clicking OK.</LI>
<LI>Export the  CAs self-signed certificate to a  file (as explained
above).    Delete    the    trusted    certificate   from    the    CA
keystore (Trustees/Delete).</LI>
<LI>Open the  user keystore again. Select the  key entry, the import
the CA-signed  user cert (Certificates/Import), and  the self-signed CA
cert.</LI>
<LI>Add  the self-signed CA cert  as a trustee. This  is only needed
for verifying the chain, therefor the keystore can be deployed without
it.  Please  note  that  a  failed  verification  might  result  in  a
SignatureException.</LI>
</OL><I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<H1><A NAME="SECTION001030000000000000000">
Configuring SSL properties</A>
</H1><I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
When the ORB is initialized by the application, a couple of properties
are read from files and the  command line. For the default SSL support
we define two properties:
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I><PRE>

        jacorb.security.support_ssl=on
        jacorb.security.enforce_ssl=on
</PRE><I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
If <TT> enforce_ssl</TT> is  on, your application  requires that  SSL be
used  for  all  its  connections,  both incoming  and  outgoing.  <TT> 
CORBA::NO_PERMISSION</TT> is  thrown if the  policy is violated.  If your
application is  a server,  you can thus  use SSL to  authenticate your
clients and,  in more  advanced scenarios using  interceptors, perform
operation-based access control. As  a client, you would probably only
require  SSL if  you are  careful to  protect your  communication from
eavesdropping or tampering.
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
The <TT> support_ssl</TT> option is  used if you don't require protection
yourself but  are prepared to use  SSL if the other  side requires it.
If <TT> support_ssl=off</TT> then <TT> enforce_ssl=off</TT>  also.  If <TT> 
jacorb.security.support_ssl=on</TT>  the user  will have  to authenticate
himself. To  be able  to provide the  required certificates,  the user
will have to provide the key store alias and a password to the ORB.
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
These SSL settings can be further refined using security options as in
the following property definitions:
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I><PRE>

        jacorb.security.ssl.supported_options=40
        jacorb.security.ssl.required_options=0
</PRE><I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
The  value  of  these security  options  is  a  bit  mask coded  as  a
hexadecimal integer. The meanings of the individual bits is defined in
the CORBA Security Service  Specification and reproduced here from the
<TT> Security.idl</TT> file:
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I><PRE>

        typedef unsigned short   AssociationOptions;

        const AssociationOptions NoProtection = 1;
        const AssociationOptions Integrity = 2; 
        const AssociationOptions Confidentiality = 4; 
        const AssociationOptions DetectReplay = 8; 
        const AssociationOptions DetectMisordering = 16;
        const AssociationOptions EstablishTrustInTarget = 32; 
        const AssociationOptions EstablishTrustInClient = 64;
        const AssociationOptions NoDelegation = 128;
        const AssociationOptions SimpleDelegation = 256; 
        const AssociationOptions CompositeDelegation = 512;
</PRE><I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
With the  current SSL integration  in JacORB, the only  valid settings
are  EstablishTrustInTarget  and/or  EstablishTrustInClient, i.e.  hex
values 40 or 60. NoProtection is not possible when SSL is used. If you
don't want protection, switch SSL support off.
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
As explained  in the previous  section, cryptographic data  (key pairs
and  certificates) is  stored in  a  keystore  file. To configure the
file name of the keystore file, you need to define the following
property:
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I><PRE>

        jacorb.security.keystore=AKeystoreFileName
</PRE><I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
To avoid  typing in  lots of  aliases and passwords  (one for  the key
store, and  one for each entry  that is used), you  can define default
aliases and passwords like this:
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I><PRE>

# the name of the default key alias to look up in the keystore
jacorb.security.default_user=brose
jacorb.security.default_password=jacorb

# the name and location of the keystore relative to the home directory
jacorb.security.keystore=.keystore
</PRE><I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I><HR>
<!--Navigation Panel-->
<A NAME="tex2html297"
 HREF="node11.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="/usr/lib/latex2html/icons.gif/next_motif.gif"></A> 
<A NAME="tex2html293"
 HREF="ProgrammingGuide.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="/usr/lib/latex2html/icons.gif/up_motif.gif"></A> 
<A NAME="tex2html287"
 HREF="node9.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="/usr/lib/latex2html/icons.gif/previous_motif.gif"></A> 
<A NAME="tex2html295"
 HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents"
 SRC="/usr/lib/latex2html/icons.gif/contents_motif.gif"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html298"
 HREF="node11.html">Portable Interceptors</A>
<B> Up:</B> <A NAME="tex2html294"
 HREF="ProgrammingGuide.html">JacORB 1.3 Programming Guide</A>
<B> Previous:</B> <A NAME="tex2html288"
 HREF="node9.html">Applets   The</A>
 &nbsp <B>  <A NAME="tex2html296"
 HREF="node1.html">Contents</A></B> 
<!--End of Navigation Panel-->
<ADDRESS>
<I>Gerald Brose</I>
<BR><I>2001-02-09</I>
</ADDRESS>
</BODY>
</HTML>
