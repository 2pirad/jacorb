<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with LaTeX2HTML 99.1 release (March 30, 1999)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Applets -- The JacORB Appligator</TITLE>
<META NAME="description" CONTENT="Applets -- The JacORB Appligator">
<META NAME="keywords" CONTENT="ProgrammingGuide">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<META NAME="Generator" CONTENT="LaTeX2HTML v99.1 release">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="ProgrammingGuide.css">

<LINK REL="next" HREF="node10.html">
<LINK REL="previous" HREF="node8.html">
<LINK REL="up" HREF="ProgrammingGuide.html">
<LINK REL="next" HREF="node10.html">
</HEAD>

<BODY >
<!--Navigation Panel-->
<A NAME="tex2html273"
 HREF="node10.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="/usr/lib/latex2html/icons.gif/next_motif.gif"></A> 
<A NAME="tex2html269"
 HREF="ProgrammingGuide.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="/usr/lib/latex2html/icons.gif/up_motif.gif"></A> 
<A NAME="tex2html263"
 HREF="node8.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="/usr/lib/latex2html/icons.gif/previous_motif.gif"></A> 
<A NAME="tex2html271"
 HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents"
 SRC="/usr/lib/latex2html/icons.gif/contents_motif.gif"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html274"
 HREF="node10.html">IIOP over SSL</A>
<B> Up:</B> <A NAME="tex2html270"
 HREF="ProgrammingGuide.html">JacORB 1.3 Programming Guide</A>
<B> Previous:</B> <A NAME="tex2html264"
 HREF="node8.html">Interface Repository</A>
 &nbsp <B>  <A NAME="tex2html272"
 HREF="node1.html">Contents</A></B> 
<BR>
<BR>
<!--End of Navigation Panel-->
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsections</STRONG></A>

<UL>
<LI><A NAME="tex2html275"
 HREF="node9.html#SECTION00910000000000000000">Using Appligator</A>
<UL>
<LI><A NAME="tex2html276"
 HREF="node9.html#SECTION00910100000000000000">Starting Appligator</A>
<LI><A NAME="tex2html277"
 HREF="node9.html#SECTION00910200000000000000">Summary</A>
<LI><A NAME="tex2html278"
 HREF="node9.html#SECTION00910300000000000000">Applet Properties</A>
<LI><A NAME="tex2html279"
 HREF="node9.html#SECTION00910400000000000000">Appligator and Netscape/IE, appletviewer</A>
<LI><A NAME="tex2html280"
 HREF="node9.html#SECTION00910500000000000000">Examples</A>
</UL>
<LI><A NAME="tex2html281"
 HREF="node9.html#SECTION00920000000000000000">Using JacORB with Firewalls</A>
<UL>
<LI><A NAME="tex2html282"
 HREF="node9.html#SECTION00921000000000000000">The JacORB Appligator</A>
<LI><A NAME="tex2html283"
 HREF="node9.html#SECTION00922000000000000000">HTTP tunneling</A>
<LI><A NAME="tex2html284"
 HREF="node9.html#SECTION00923000000000000000">Appligator and tunneling</A>
<LI><A NAME="tex2html285"
 HREF="node9.html#SECTION00924000000000000000">Summary</A>
<LI><A NAME="tex2html286"
 HREF="node9.html#SECTION00925000000000000000">Final remarks</A>
</UL></UL>
<!--End of Table of Child-Links-->
<HR>

<H1><A NAME="SECTION00900000000000000000"></A>
<A NAME="Ch_applets"></A>
<BR>
Applets -- The JacORB Appligator
</H1><I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
<EM> by Sebastian M&#252;ller</EM>
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P><P>
<BR>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
Since  version 1.0  beta  13,  JacORB includes  an  IIOP proxy  called
Appligator.  Using this proxy, you  can run Java Applets with JacORB.
Regular  java programs can  connect to  every host  on the  Internet --
Applets can only  open connections to their applethost  (the host they
are downloaded  from).  This  lets Applets only  use CORBA  servers on
their applethost, if no proxy is used.  With JacORB Appligator, access
for your Applets  is no longer restricted.  Placed  on the applethost,
Appligator   handles  all   connections  from   and  to   your  applet
transparently.
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<H1><A NAME="SECTION00910000000000000000">
Using Appligator</A>
</H1><I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
Due to the transparency of JacORB Appligator you can write your applet
as if it were  a normal CORBA program.  The only thing  you have to do
is to  use a special initialization of  the ORB: You have  to call the
<TT> jacorb.orb.ORB(java.applet.Applet,     java.util.Properties)</TT>
constructor.
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
A normal JacORB program reads  a local <TT> jacorb.properties</TT> file to
get the URL of its name  server and other vital settings. An applet of
course has no <EM> local</EM> properties  file, but a remote one: You have
to place the properties file (which has the same syntax and parameters
as the  normal file) in  the same directory  as your applet  (the file
name has to be: <TT> jacorb.properties</TT>, without a leading dot).
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
Similar to the name server, Appligator writes its IOR to a file.  Your
applet has  to know the location of  this file to retrieve  the IOR of
Appligator.   You  can  set the  location  of  the  IOR file  via  the
jacorb.properties  file (parameter  jacorb.ProxyServerURL) or  with an
applet    parameter   in    the   <TT> &lt;APPLET&gt;    HTML</TT>    tag   (parameter
<TT> JacorbProxyServerURL</TT>).  If  you give no (or a  wrong) parameter JacORB
will look for an IOR file called "proxy.ior" in the codebase directory
and in the web server root directory.
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
Make  sure  the  parameter  <TT> jacorb.NameServerURL</TT>  points  to  a
location on the applethost, otherwise  you will get an applet security
exception if your applet needs to use the name server.
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<H3><A NAME="SECTION00910100000000000000">
Starting Appligator</A>
</H3><I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
Just type  
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I><I><B><FONT SIZE="-1"><TT>$ appligator &lt;port&gt; &lt;filename&gt;</TT><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
to  start the  proxy  on port  <TT> port</TT>.  <TT> &lt;filename&gt;</TT> is  the
location where the IOR of  the Appligator is written to. This location
has to be specified in the  jacorb.properties file of the applet or in
an  applet parameter  (if it  is not  one of  the standard  paths, see
below).
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<H3><A NAME="SECTION00910200000000000000">
Summary</A>
</H3><I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<UL>
<LI>init the  ORB with <TT> jacorb.orb.init(applet,properties)</TT>,
where   applet    is   this    applet   and   properties    are   <TT> 
java.util.Properties</TT> (which can be null)

<P>
 </LI>
<LI>put a <TT> jacorb.properties</TT> file in the directory of the applet

<P>
 </LI>
<LI>specify the location for the appligator IOR file in the <TT> 
jacorb.properties</TT> (jacorb.ProxyServerURL)  or in an  applet parameter
(JacorbProxyServerURL)

<P>
 </LI>
<LI>make sure the name server IOR file is accessible for the applet
      (lies on the applethost)

<P>
 </LI>
<LI>start Appligator  on  the applethost  (web server)  with:
<BR>
<FONT SIZE="-1"><TT>$ appligator &lt;filename&gt;</TT></FONT>
<BR>
where filename is  the location the
appligator IOR is  put to and has to be the  location specified in the
jacorb_properties or applet parameter.</LI>
</UL><I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<H3><A NAME="SECTION00910300000000000000">
Applet Properties</A>
</H3><I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
As  described above  there are  some ways  for the  applet to  get its
jacorb  properties.  The  most important  property is  the URL  to the
appligator  IOR  file.  Without  this  property the  applet  will  not
work. If you use a name server,  the URL to the name server IOR has to
be specified too.
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
Properties can be set in three ways:
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<OL>
<LI>in  the  <TT> ORB.init()</TT>  call  with  the  
     <TT> java.util.Properties</TT>parameter

<P>
 </LI>
<LI>in the <TT> jacorb_properties</TT> file  located in  the same
     directory as the applet

<P>
 </LI>
<LI>the URL  to the name server and Appligator  IOR file can be
     set in the applet tag in the HTML file</LI>
</OL><I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<H3><A NAME="SECTION00910400000000000000">
Appligator and Netscape/IE, appletviewer</A>
</H3><I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
Netscape  Navigator/Communicator comes with  its own  (outdated) CORBA
support. You have to delete Netscape's CORBA classes to use JacORB. To
do  this  you have  to  delete the  file  iiop10.jar  located in  <TT> 
NS_ROOT/java/classes</TT>.   It's  a  good  idea  to store  a  backup  of
Netscape's file in another directory. Note that renaming this jar file
in the original directory does  not suffice if you don't also change
the <TT> .jar</TT> extension because  Netscape loads all jar files in this
directory. You then need to install jacorb.jar in this directory.
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
If Netscape loads wrong classes  or throws security exceptions (have a
look at  Netscape's JAVA Console  to see this)  be sure to  check your
<TT> CLASSPATH</TT> and look for old or .  Remove all JacORB  and VisiBroker classes  from your
<TT> CLASSPATH</TT>. We succeeded running JacORB applet clients on
Netscape 4.72 with the Java 1.3 plugin.
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
Microsoft's  Internet   Explorer  is  stricter   than  Netscape:  Even
downloaded classes are not allowed  to listen on a socket. We strongly
advise to  use Sun's Java  1.3 plugin with  IE also. To trick  IE into
using   JacORB,   you   need   to   copy  JacORB   classes   to   <TT> 
$WINNT
<BR>
Java
<BR>
TrustLib</TT>.  You can either  copy the  entire jacorb.jar
and  unpack it in  this directory  or just  copy the  directories <TT> 
jacorb</TT>, <TT> org</TT>, and <TT> HTTPClient</TT>.
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
Appligator works well  with Sun's appletviewer. You only  have to make
the  appletviewer  replace  the  Sun's  CORBA  classes  with  JacORB's
classes.  A  typical appletviewer call  for JacORB Applets  looks like
this (written in one command line):
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I><I><B><FONT SIZE="-1"><TT>$ appletviewer http://www.example.com/CORBA/dii_example.html</TT><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
There is a shell script  called "jacapplet" in JacORB's bin directory,
which calls the appletviewer with the appropriate options (you have to
edit it to match your local jdk path).
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
If you use the Appligator with other browsers or if you know a 
way to load the JacORB classes without removing and copying jars please 
let us know.
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<H3><A NAME="SECTION00910500000000000000">
Examples</A>
</H3><I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
There  are   some  example  applets   in  the  demo   directory  (<TT> 
jacorb/demo/applet</TT>).   They are  based on  the normal  examples.  The
examples  include a  HTML file  which calls  the applet.   To  run the
example  start the  name server  first. Start  appligator on  your web
server and than the normal  example server corresponding to the applet
example on any  computer in any order.  Then you  can call the example
applet with the JDK appletviewer or Netscape.
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
Be  sure  to  have  a   <TT> jacorb.properties</TT>  file  and  the  <TT> 
jacorb.jar</TT> in place.
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<H1><A NAME="SECTION00920000000000000000">
Using JacORB with Firewalls</A>
</H1><I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
Typically firewalls do two things:  filter traffic by port, and filter
traffic  by protocol.   JacORB comes  with two  utilities  to overcome
firewall filtering.   The JacORB Appligator  can be used to  deal with
port  restrictions, and  HTTP tunneling  helps you  to  tunnel through
firewalls that are blocking GIOP messages.
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<H2><A NAME="SECTION00921000000000000000">
The JacORB Appligator</A>
</H2><I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
The Appligator was written to  avoid the sandbox restrictions for Java
applets. Unsigned applets  can only have connections to  the host they
are loaded  from, which makes  them useless in most  distributed CORBA
scenarios. The  Appligator is a  GIOP proxy, which enables  applets to
connect  to every  CORBA server  by redirecting  the traffic  from the
applet to the CORBA server to the proxy. The Appligator also works the
other  way round:  Every connection  the applet  is redirected  to the
Appligator.
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
Even without applets  the Appligator can be used as a  GIOP proxy on a
firewall. The  Appligator is a  CORBA object itself and  is explicitly
started  on   a  given  port  using  a   command-line  argument  <TT> 
&lt;portnumber&gt;</TT>.  All incoming traffic to the Appligator will go to port
<TT> &lt;portnumber&gt;</TT>.  If you  configure your  CORBA object  behind the
firewall to  be aware of the  Appligator all traffic from  and to this
objects  will go  through the  Appligator (a  better way  would  be to
distinguish between traffic going over the firewall and traffic within
the  enclave, this has  to be  implemented in  future versions  of the
Appligator).
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
To  make your  port filtering  firewall  working with  CORBA and  GIOP
messages you must  ask your system administrator to  assign a port for
GIOP messages on the firewall. Start the Appligator on this port.
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
Now  all CORBA servers  (which are  aware of  the Appligator)  in your
enclave can  be contacted over  the Appligator.  If your  CORBA client
wants to  contact a  server in the  Internet outside the  firewall the
connection will go over the Appligator. Callbacks from the Internet to
your client do not work with Netscape.
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
To make your  non-Applet clients and your CORBA  objects aware of the
Appligator you  have to add  a property in your  jacorb.property file.
Applets  will  use the  Appligator  automatically.  If  you want  your
applications to use  the Appligator (which is true if  you want to use
the     Appligator     as    a     firewall     proxy)    than     set
<TT> jacorb.use_appligator_for_applications  = on</TT>.  If  you want  to turn
off appligator use  set <TT> jacorb.use_appligator_for_applications = off</TT>
for  applications and  <TT> jacorb.use_appligator_for_applets  = off</TT>  for
applets.
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
Finally you  have to specify the  location on the  Appligator. This is
done the same way as  JacORB determines to location of the name server:
When the Appligator  starts the IOR of the Appligator  is written to a
file which is put to  the location you specified as command parameter.
This  file must  be accessible  to all  clients that  want to  use the
Appligator.  You  can use a shared  file system to access  this file or
put it on a web server etc.  The location of the file in which the IOR
of  the Appligator  is stored  must  be set  in the  jacorb.properties
file. Use the "jacorb.ProxyServerURL" property for this.
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<H2><A NAME="SECTION00922000000000000000">
HTTP tunneling</A>
</H2><I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
If your firewall filters traffic  by protocol and is not configured to
allow  GIOP messages  you can  use HTTP  tunneling to  make  your GIOP
traffic look  like HTTP traffic to  the firewall. HTTP  tunneling is a
built-in feature of  JacORB and produces correct HTTP  1.1 messages so
that your firewalls sees a HTTP request (from your CORBA client to the
CORBA server) and a HTTP reply  (from the CORBA server to your client)
for each method  you call on the server.  
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
HTTP tunneling in JacORB is not compatible with any OMG standard so it
will  work between  JacORB  clients and  servers  only.  Every  JacORB
server  will  recognize  incoming  HTTP  traffic and  will  handle  it
correctly without  any special settings needed.   Configuration has to
be done on the client side.   You can configure HTTP tunneling on a IP
address basis.  If  you set HTTP tunneling on for  a given IP address,
all traffic will  be tunneled to all CORBA objects  on this host.  You
can specify more than one IP  address by using a comma separated list.
Example:If you set  <TT> jacorb.use_httptunneling_for = 192.168.0.1,
192.168.0.2</TT>  all  traffic  to  192.168.0.1 and  192.168.0.2  will  be
tunneled.
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<H2><A NAME="SECTION00923000000000000000">
Appligator and tunneling</A>
</H2><I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
As  the  Appligator  is  a  normal JacORB  CORBA  object  it  supports
tunneling,  too.   No  extra   configuration  is  needed  to  use  the
Appligator on a firewall and tunnel the firewall with HTTP.
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<H2><A NAME="SECTION00924000000000000000">
Summary</A>
</H2><I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<UL>
<LI>use the  Appligator as  a GIOP  proxy an  the firewall  if your
firewall  is configured  to  block  all traffic  but  traffic on  some
special ports.

<P>
 </LI>
<LI>ask your system administrator  to assign a special port for GIOP
on  your  firewall  and start  the  Appligator  on  this port  on  the
firewall: for example

<P>
 
<FONT SIZE="-1"><TT>$ appligator 7777 Appligator_Ref</TT></FONT>

<P>
 </LI>
<LI>all CORBA  objects that  should be  reachable from  outside the
firewall or need  to contact a CORBA object  outside the firewall must
use    the     Appligator    as     a    proxy.    Add     the    <TT> 
jacorb.use_appligator_for_applications   =  on</TT>  property   to  the
jacorb.properties file for those applications

<P>
 </LI>
<LI>Set the location of the Appligator in the jacorb.properties file
of your clients (<TT> jacorb.ProxyServerURL</TT>)

<P>
 </LI>
<LI>If you need HTTP  tunneling because a firewall between your host
and  server   is  filtering  GIOP  messages  use   the  property  <TT> 
jacorb.use_httptunneling_for</TT> with the IP  address of the server you
want to use tunneling to

<P></LI>
</UL><I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<H2><A NAME="SECTION00925000000000000000">
Final remarks</A>
</H2><I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"> 
I want to thank Wendell Duncan for testing and debugging the tunneling
code.  I do not have a real firewall here in university, so I hope all
the stuff works  in a real environment :-). If  you have problems feel
free to contact  me.  I would be glad to hear  if you successfully use
the Appligator or HTTP tunneling.
</FONT></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I>
<P>
<I><B><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"><FONT SIZE="-1"></FONT></FONT></FONT></FONT></FONT></FONT></FONT></B></I><HR>
<!--Navigation Panel-->
<A NAME="tex2html273"
 HREF="node10.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="/usr/lib/latex2html/icons.gif/next_motif.gif"></A> 
<A NAME="tex2html269"
 HREF="ProgrammingGuide.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="/usr/lib/latex2html/icons.gif/up_motif.gif"></A> 
<A NAME="tex2html263"
 HREF="node8.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="/usr/lib/latex2html/icons.gif/previous_motif.gif"></A> 
<A NAME="tex2html271"
 HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents"
 SRC="/usr/lib/latex2html/icons.gif/contents_motif.gif"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html274"
 HREF="node10.html">IIOP over SSL</A>
<B> Up:</B> <A NAME="tex2html270"
 HREF="ProgrammingGuide.html">JacORB 1.3 Programming Guide</A>
<B> Previous:</B> <A NAME="tex2html264"
 HREF="node8.html">Interface Repository</A>
 &nbsp <B>  <A NAME="tex2html272"
 HREF="node1.html">Contents</A></B> 
<!--End of Navigation Panel-->
<ADDRESS>
<I>Gerald Brose</I>
<BR><I>2001-02-09</I>
</ADDRESS>
</BODY>
</HTML>
