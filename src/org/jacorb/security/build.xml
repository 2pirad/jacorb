<?xml version="1.0"?>

<project name="security" default="all" basedir="../../../..">

  <!-- ==================================================== -->
  <!--             security build file                         -->
  <!-- $Id: build.xml,v 1.11 2001-11-29 10:44:38 gerald Exp $ -->
  <!-- ==================================================== -->

   <target name="init">
	<property name="dirs.base" value="${basedir}"/>
	<property name="classdir" value="${dirs.base}/classes"/>
	<property name="src" value="${dirs.base}/src"/>
	<available classname="iaik.x509.X509Certificate" 
                   property="iaik.present" />
	<available classname="javax.net.ssl.SSLSocketFactory" 
                   property="jsse.present" />
   </target>

   <target name="all" depends="init,leveltwo,principal_authenticator,ssl,util">

   </target>

   <target name="ssl">
           <ant antfile="${src}/org/jacorb/security/ssl/build.xml" dir="${basedir}"/>
   </target>


   <!-- -->

   <target name="leveltwo" depends="init">
	<javac srcdir="${src}"
               destdir="${classdir}"
	       includes="org/jacorb/security/level2/*.java"
               excludes="org/jacorb/security/level2/PrincipalAuthenticatorImpl.java"
        />
   </target>

   <target name="principal_authenticator" depends="init" if="iaik.present">
	<javac srcdir="${src}"
               destdir="${classdir}"
               includes="org/jacorb/security/level2/PrincipalAuthenticatorImpl.java"
        />
   </target>

   <!-- -->

   <target name="util" depends="init" if="iaik.present">
           <javac srcdir="${src}"
               destdir="${classdir}"
	       includes="org/jacorb/security/util/*.java"
        />
   </target>

   <target name="clean" depends="init">
      <delete dir="${classdir}/org/jacorb/security"/>
   </target>

</project>









