<?xml version="1.0" encoding="iso-8859-1"?>

<!DOCTYPE project [ 
  <!ENTITY common SYSTEM "file:../../../etc/common.xml" > 
]>

<project name="Notification Demo" default="all" basedir="../../..">

  <!-- ==================================================== -->
  <!--             Demo build file                         -->
  <!-- ==================================================== -->

  &common;

  <target name="demo.init" depends="init" >
    <property name="dir.src"
      value="${basedir}/demo/notification/whiteboard" />

    <property name="dir.generated"
      value="${basedir}/demo/notification/generated" />

    <property name="dir.classes"
      value="${basedir}/classes/demo/notification" />
    
    <mkdir dir="${dir.generated}" />
  </target>

  <target name="all" depends="demo.init, idl" >
    <antcall target="jacorb-javac">
      <param name="javac-includes"
	value="**/*.java" />

      <param name="javac-src"
	value="${dir.src}" />

      <param name="javac-sourcepath"
	value="${dir.generated}" />

    </antcall>    
  </target>
  
  <target name="idl" depends="demo.init, load-taskdef" >
    <jacidl srcdir="${basedir}/demo/notification/whiteboard"
      includepath="${idl}/omg"
      includes="*.idl"
      destdir="${dir.generated}" />
  </target>
  
  <target name="clean">
    <delete dir="${dir.generated}" />
    <delete dir="${basedir}/classes/demo/notification" />
  </target>
  
</project>
